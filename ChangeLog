2010-02-04 Niall Power - <niall.power@sun.com>

	* Makefike: Add lib/svc/method/time-slider-plugin to
	  install/uninstall rules.
	* lib/svc/method/time-slider-plugin: Added.
	  Provides simple, generic plugin start method.
	* var/svc/manifest/application/time-slider-plugin.xml:
	  Added comments for time-slider-plugin method, advising
	  that non trivial plugin instances should provide their
	  own specific methods.

2010-02-03 Niall Power - <niall.power@sun.com>

	* var/svc/manifest/application/time-slider.xml:
	  Define new property "zfs/sep". Taken for zfs-auto-snapshot,
	  allows custom definition of a separator character for snapshot
	  datestamps that can work on filesystems that previously choked
	  on the ":" characted such as CIFS, PCFS.
	* usr/share/time-slider/lib/time_slider/smfmanager.py: Added new
	  method to get zfs/sep property.
	* usr/share/time-slider/lib/time_slider/timesliderd.py: modify
	  snapshot creation and listing operations to use the new zfs/sep
	  property, while maintaining compatibility with old snapshot
	  datestamps that used the ":" character.

2010-02-02 Niall Power - <niall.power@sun.com>

	* usr/share/time-slider/lib/time_slider/plugin.py:
	  Fix invalid function call "debug()" should be "util.debug()" when
	  reporting disabled plugin in PluginManager.refresh()
	  Missing "()" in method call Plugin.is_running() in Plugin.refresh()

2010-01-26 Niall Power - <niall.power@sun.com>

	* VERSION: bump to 0.2.96
	* Use explicit path: "/usr/bin/python2.6" to reference python interpreter
	  instead of relying on "/usr/bin/env" to find it.
	* Add plugin framework to enable user defined plugins to be executed after
	  snapshots get taken by time-sliderd. Plugins are based on the SMF service
	  framework and plugins are defined as instances of the base SMV service:
	  svc:/application/time-slider/plugin
	* Provide a "zfs-send" plugin as a replacement for the zfs-auto-snapshot
	  provided "backup-save-cmd" property.
	* Add util.py to define two commoonly used utility functions: debug/logging
	  and command spawning. Reduces lines of code and duplication.
	* Refactor all python files to use util.run_command() convenience function
	  where possible.
	* Fix a bug where time-sliderd emits warnings and tries to cleanup pools
	  upon which it creates no snapshots. Also make time-sliderd more descriminating
	  in general and able to identify snapshots it created from backups of snapshots
	  it create (via zfs send/receive) by checking for the auto-snapshot property
	  corresponding to the filesystem/volume of snapshots.
	* TODO: SMF code is a bit all over the place and could do with proper stucturing

2009-11-27 Niall Power - <niall.power@sun.com>

	* usr/share/time-slider/lib/time_slider/timesliderd.py: fixed a date
	  calculation bug whereby a schedule with a period in months next falls
	  due on December. Was getting incorrectly modulused to 0.

2009-11-04 Niall Power - <niall.power@sun.com>

	* VERSION: bump to 0.2.95
	* Move to python2.6
	* Drop dependency on zfs-auto-snapshot methods and implement our own
	  snapshotting mechanism in the form of time-sliderd
	* Add dbus system bus notification and notification applet, replacing
	  the previous ugly hack of su to logged in user ID and running
	  notify-send.
	* Enhance all .py modules to use python subprocess module when spawning
	  commands instead of os.popen.
	* Add SMF manifest for system/filesystem/auto-snapshot to replace 
	  systems snapshot configuration previously supplied by
	  zfs-auto-snapshot. Generally compatible but cleaned up by dropping
	  some of zfs-auto-snapshot's more quirky or deprecated configuration
	  options.

2009-07-08 Niall Power - <niall.power@sun.com>

	* VERSION: bump to 0.2.10
	* Fix defect 8667 in following source files:
	* usr/share/time-slider/lib/time_slider/cleanupmanager.py: Refactor
	  code to modified zfs.py APIs, remove some dead code, make capacity
	  checks conditional where possible.
	* usr/share/time-slider/lib/time_slider/deletegui.py: minor code 
	  refactoring to match zfs.py API changes.
	* usr/share/time-slider/lib/time_slider/setupgui.py: Remove references
	  to zfscontroller module which has been removed. Uses zfs.py 
	  exclusively now. Refactor for zfs.py changes
	* usr/share/time-slider/lib/time_slider/zfscontroller.py: removed.
	  Very little functionality and nothing that shouldn't be in zfs.py
	* usr/share/time-slider/lib/time_slider/zfs/py: New class definition
	  for "Datasets" which stores all system snapshots, filesystems and
	  volumes in a cache. Existing Dataset, Filesystem, Snapshot and Volume
	  class methods now use the global Datasets cache for querying and
	  listing instead of making zfs(1m) spawned commands.

2009-05-18 Niall Power - <niall.power@sun.com>

        * usr/share/time-slider/lib/time_slider/cleanupmanager.py
          Cleanup both Filesystem and Volume snapshots. Fixes d.o.o 8454
        * usr/share/time-slider/lib/time_slider/setupgui.py: Prepend private
          class methods with "__" in accordance with python coding standards.
        * usr/share/time-slider/lib/time_slider/smfmanager.py: Use predefined
          macros for ZFS commands instead of hardcoding path in the code.
        * usr/share/time-slider/lib/time_slider/zfs.py: Improve object
          hierarchy and inheritance tree. Rename some methods for improved
          clarity of purpose. Improve method and function documentation.
          Add capability to deal with ZFS volumes. Fixes d.o.o 8454 & 8685
 
2009-05-13 Harry Fu - <harry.fu@sun.com>

	* VERSION: bump to 0.2.9

2009-04-10 Erwann Chenede - <erwann.chenede@sun.com>

	* /usr/share/time-slider/lib/time_slider/fileversion.py:
	  used gobject.idle_add instead of gtk.gdk.threads_* fixes
	  7319

2009-04-09 Erwann Chenede - <erwann.chenede@sun.com>

	* /usr/share/time-slider/lib/time_slider/fileversion.py:
	  removed hard dependency on external thumbnailer and meld 
	  fixes #7502

2009-04-07  Niall Power <niall.power@sun.com>

	* usr/share/time-slider/lib/time_slider/cleanupmanager.py
	* usr/share/time-slider/lib/time_slider/deletegui.py
	* usr/share/time-slider/lib/time_slider/smfmanager.py
	* usr/share/time-slider/lib/time_slider/zfs.py
	* usr/share/time-slider/lib/time_slider/zfscontroller.py:
	  Use macro substitution to specify full paths to all spawned
	  commands (zfs, zpool, svcadm, svccfg, svcprop, pfexec) so that
	  commands work independently of user's PATH environment.
	  Fixes opensolaris defect #7396

2009-03-01  Niall Power <niall.power@sun.com>

	* VERSION: bump to 0.2.6
	* Makefile: Pick up PYTHON environment variable. Enhancement for
	  fix to 6754650
	* usr/share/time-slider/lib/time_slider/setupgui.py: Allow filesystems
	  to inherit properties from their parent instead of locally tagging
	  every filesystem with the required property setting.
	* usr/share/time-slider/lib/time_slider/zfs.py: Add an "inherit" argument
	  to Filesystem.commit_state() to allow the fileystem to inherit from
	  it's parent when setting the auto-snapshot property.

2009-02-19  Takao Fujiwara  <takao.fujiwara@sun.com>

	* usr/share/time-slider/lib/time_slider/deletegui.py: updated
	the comments because translators are confused it.
	* usr/share/time-slider/lib/time_slider/snapnowui.py: updated
	the gettext "%s" so that translators can change the oder of "%s".

2009-02-05 Niall Power - <niall.power@sun.com>

	* VERSION: bump to 0.2.5
	* Makefile: don't install .pyc files, but generate them as part
	  of "install:" rule. Fixes bugster: 6754650
	* py-compile.py: Prepend "DESTDIR" to compile python bytecode
	  within the installed directory tree.
	* usr/share/time-slider/lib/time_slider/__init__.pyc: removed
	* usr/share/time-slider/lib/time_slider/cleanupmanager.pyc: removed
	* usr/share/time-slider/lib/time_slider/deletegui.pyc: removed
	* usr/share/time-slider/lib/time_slider/fileversion.pyc: removed
	* usr/share/time-slider/lib/time_slider/notification.pyc: removed
	* usr/share/time-slider/lib/time_slider/rbac.pyc: removed
	* usr/share/time-slider/lib/time_slider/setupgui.pyc: removed
	* usr/share/time-slider/lib/time_slider/smfmanager.pyc: removed
	* usr/share/time-slider/lib/time_slider/snapnowui.pyc: removed
	* usr/share/time-slider/lib/time_slider/zfs.pyc: removed
	* usr/share/time-slider/lib/time_slider/zfscontroller.pyc: removed


2009-01-23 Erwann Chenede - <erwann.chenede@sun.com>

	* VERSION: bump version to 0.2.4
	* Makefile : added new files
	* usr/lib/time-slider-version
	* usr/share/time-slider/glade/time-slider-version.glade
	* usr/share/time-slider/lib/time_slider/fileversion.py
	* usr/share/time-slider/lib/time_slider/fileversion.pyc :
	  Initial implementation of the file version explorer app
	
2009-01-16  Takao Fujiwara  <takao.fujiwara@sun.com>

	* po/POTFILES.in: Update with the latest files.
	* usr/share/time-slider/glade/time-slider-delete.glade:
	* usr/share/time-slider/glade/time-slider-setup.glade:
	* usr/share/time-slider/glade/time-slider-snapshot.glade:
	  Update to remove "translatable" tag for GTK textdomain.
	* usr/share/time-slider/lib/time_slider/deletegui.py:
	  Update to localize date and add the encoding conversion.
	* usr/share/time-slider/lib/time_slider/setupgui.py:
	  Update to localize "legacy".
	* usr/share/time-slider/lib/time_slider/snapnowui.py:
	  Update to add gettext.

2009-01-09 Niall Power - <niall.power@sun.com>

	* VERSION: bump version to 0.2.3
	* usr/share/time-slider/glade/time-slider-delete.glade:
	  add progress dialog for snapshot scanning feedback
	* usr/share/time-slider/lib/time_slider/deletegui.py:
	  restructure initialisation code and run snapshot scanning in it's
	  own thread so that feedback can be give to user via a progress dialog
	  Prevents the app appearing dead when dealing with huge numbers of
	  snapshots.

2009-01-09 Erwann Chenede - <erwann.chenede@sun.com>

	* Makefile: added newly introduced file
	* usr/share/time-slider/lib/time_slider/snapnowui.py: removed print

2009-01-09 Erwann Chenede - <erwann.chenede@sun.com>

	* usr/lib/time-slider-snapshot:
	* usr/share/time-slider/glade/time-slider-snapshot.glade:
	* usr/share/time-slider/lib/time_slider/snapnowui.py:
	  Initial implementation of the snapshot now dialog

2008-12-17 Niall Power - <niall.powr@sun.com>

	* VERSION: bump version to 0.2.2
	* lib/svc/method/time-slider: remove "set -x" command which errantly turns
	  on debug mode. Fixes bugzilla defect #5067
	* usr/share/time-slider/glade/time-slider-setup.glade: Change mnemonic key for
	  "Custom" radio button from "C" to "u". C is already in use by "Cancel" button.
	  Fixes bugzilla defect #3986
	* usr/share/time-slider/lib/time_slider/setupgui.py: Change error dialog text to
	  instruct user to consult "svcs -xv" instead of "svcs(1) man page" for more info
	  when time-slider SMF instance is placed into offline state by SMF.
	  Fixes bugzilla defect #5804

2008-12-17 Niall Power - <niall.power@sun.com>

	* usr/share/time-slider/lib/time_slider/cleanupmanager.py: Check
	  ps commmand output before accessing it by catching IndexError
	  exceptions. Prevents root's mailbox being spammed by cron.
	  Fixes bugster #6758575

2008-12-12 Niall Power - <niall.power@sun.com>

	* usr/share/time-slider/lib/time_slider/cleanupmanager.py: Implement
	  destruction of older snapshots since zfs-auto-snapshot only does
	  snapshot destruction recursively and we break the recursion by
	  deleting individual snapshots instead of recursive sets.

2008-12-05 Niall Power - <niall.power@sun.com>
	* usr/share/time-slider/lib/time_slider/setupgui.py
	  Fixed a patch generation problem when launching time-slider-delete

2008-12-05 Niall Power - <niall.power@sun.com>

	* VERSION: bumped to 0.2.1
	* Makefile: Minor cleanups
	* usr/share/time-slider/lib/time_slider/cleanupmanager.py: add
	  perform_purge method to clean up zero sized snapshots under 
	  safe circumstances so that the system doesn't become cluttered
	  with too many permanently zero sized snapshots.
	  Rewrote emercency space makeing cleanup alogorithm in run_cleanup  
	  to be more efficient and spawn far fewer shell commands. No longer
	usr/share/time-slider/lib/time_slider/setupgui.py: Change error dialog text to
	  instruct user to consult "svcs -xv" instead of "svcs(1) man page" for more info
	  when time-slider SMF instance is placed into offline state by SMF.
	  Fixes bugzilla defect #5804
  does recursive snapshot deletion since the above changes will break
	  the recursive snapshot chain in most cases and recursive deletion
	  is now overkill since individual snapshots should be larger in size
	  and yield larger space savings per snapshot deleted.
	  Fixed notification bug where notification would happen twice if
	  gnome-session is launched via dbus-launch.
	* usr/share/time-slider/lib/time_slider/deletegui.py: move
	  __get_cloned_snapshots() method to a public function in zfs.py
	* usr/share/time-slider/lib/time_slider/notification.py: fix typo
	  bug in send_to_desktop() where initial warning level was set to
	  90000 which broke desktop notification. Should be 0.
	* usr/share/time-slider/lib/time_slider/zfs.py: Add new function:
	  list_cloned_snapshots() to list snapshots that have cloned filesystem
	  based on them.

2008-12-02 Niall Power - <niall.power@sun.com>

	* Makefile: Fix install target error that didn't install both glade
	  files

2008-12-02 Niall Power - <niall.power@sun.com>

	* VERSION: bumped to 0.2.0
	* Makefile: added new files to install and uninstall targets
	* data/Makefile: adjusted for renamed .desktop.in file
	* usr/share/time-slider/glade/time-slider-setup.glade: Added launch
	  button for snapshot deletion GUI. Rename window title from 
	  "Time Slider Setup" to "Time Slider Manager"
	* usr/share/time-slider/lib/time_slider/setupgui.py: add launch handler
	  for time-slider-delete
	* usr/share/time-slider/lib/time_slider/zfs.py: Add utility functions
	  for time-slider-delete for listing and creating snapshot objects
	* data/time-slider.desktop.in renamed from time-slider-setup.desktop.in
	* usr/lib/time-slider-delete: Added new snapshot deleter program to
	  allow snapshot browsing/deletion.
	* usr/share/applications/time-slider.desktop: renamef from 
	  time-slider-setup.desktop
	* usr/share/time-slider/glade/time-slider-delete.glade: Added glade UI
	  file for snapshot delete GUI
	* usr/share/time-slider/lib/time_slider/deletegui.py: Added main python
	  code for listing and deleting snapshots

2008-12-02 Niall Power - <niall.power@sun.com>

	* py-compile.py: Added to insure pyc files are in sync with
	  .py sources. Fixes bugster #6754650
	* VERSION: Added version file. Bump to 0.1.5
	* SUNWgnome-time-slider.spec: removd because spec file is
	  in spec-files-other repository on opensolaris.org
	* Makefile: added "dist" target for creating dist bz2 tarballs

2008-10-23 Erwann Chenede - <erwann.chenede@sun.com>

	* usr/share/icons/hicolor/16x16/apps/time-slider-setup.png 
	* usr/share/icons/hicolor/24x24/apps/time-slider-setup.png 
	* usr/share/icons/hicolor/32x32/apps/time-slider-setup.png 
	* usr/share/icons/hicolor/36x36/apps/time-slider-setup.png 
	* usr/share/icons/hicolor/48x48/apps/time-slider-setup.png 
	* usr/share/icons/hicolor/72x72/apps/time-slider-setup.png :
	  new icon (4182)

2008-10-20   Takao Fujiwara  <takao.fujiwara@sun.com>

	* Makefile: Updated to load po/Makefile and data/Makefile.
	* data/Makefile: Added to generate .desktop files.
	* data/time-slider-setup.desktop.in: Added for intltool.
	* po: Added for intltool.

2008-09-11 Niall Power - <niall.power@sun.com>

	* Initial import of Time Slider service

